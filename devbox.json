{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.13.7/.schema/devbox.schema.json",
  "packages": {
    "python": "3.12",
    "heroku": "latest",
    "nodejs": "20",
    "pnpm": "latest",
    "postgresql": {
      "version": "16",
      "outputs": [
        "dev",
        "out"
      ]
    },
    "powerline-rs": "latest",
    "flyctl": "latest"
  },
  "env_from": ".devbox_scripts/.env",
  "shell": {
    "init_hook": [
      "echo 'Welcome to devbox!' > /dev/null",
      ". $VENV_DIR/bin/activate",
      ". .devbox_scripts/init_hook.sh"
    ],
    "scripts": {
      "pip": [
        "pip install -r requirements/local.txt"
      ],
      "npm": [
        "npm install"
      ],
      "db:restore": [
        "dropdb ${PGDATABASE} || true",
        "createdb ${PGDATABASE}",
        "gunzip -c \"$@\" | psql ${PGDATABASE}"
      ],
      "mm": [
        "python manage.py makemigrations"
      ],
      "mig": [
        "python manage.py migrate"
      ],
      "dev": [
        "python manage.py runserver 0.0.0.0:8000"
      ]
    }
  }
}